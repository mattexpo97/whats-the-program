import{u as V,_ as R}from"./item.12337592.js";import{N as E,a as g,u as N}from"./useHelpers.09f664f7.js";import{r as v,e as A,f as a,i as h,j as m,u as t,k as d,F as I,l as M,m as f,o as n,p as T,c as Z}from"./entry.5e953e57.js";import"./Icon.4727516b.js";import"./config.a2f8590e.js";import"./_plugin-vue_export-helper.c27b6911.js";const j={class:"overflow-y-hidden"},z={class:"gap-4 grid grid-cols-1 md:grid-cols-4 px-8 my-6 md:my-12"},D={key:0,class:"flex items-center snap-x space-x-8 snap-mandatory overflow-scroll px-8"},G={key:1,class:"mt-40"},H={key:0,class:"w-full text-4xl text-center text-white"},q=h("br",null,null,-1),J={key:1,class:"w-full text-4xl text-center text-white"},K=h("br",null,null,-1),oe={__name:"favorites",setup(P){const _=V(),{sort:C}=N(),{filterByRuntime:F}=N(),y=[{label:"Rating",value:"-rating.average"},{label:"A -> Z",value:"name"},{label:"Z -> A",value:"-name"}],b=[{label:"All duration",value:"all"},{label:"Short",value:"short"},{label:"Medium",value:"medium"},{label:"Long",value:"long"}],u=v(""),i=v(y[0].value),c=v(b[0].value),r=v(null),O=A(()=>{const l=[];return x.value.forEach(e=>{l.push(...e.genres)}),[...new Set(l)].map(e=>({label:e,value:e})).sort((e,s)=>e.label.localeCompare(s.label))}),U=(l,e)=>{if(!e)return!0;const s=e.toLowerCase();return l.name.toLowerCase().includes(s)||l.summary.toLowerCase().includes(s)},x=A(()=>C(i.value,_.favorites).filter(l=>F(l,c.value)).filter(l=>U(l,u.value)).filter(l=>{var e;return!((e=r.value)!=null&&e.length)||r.value.every(s=>l.genres.indexOf(s)>=0)}));return(l,e)=>{var w,S,k;const s=R;return n(),a("div",j,[h("div",z,[m(t(E),{value:t(u),"onUpdate:value":e[0]||(e[0]=o=>d(u)?u.value=o:null),type:"text",placeholder:"Search",clearable:""},null,8,["value"]),m(t(g),{value:t(i),"onUpdate:value":e[1]||(e[1]=o=>d(i)?i.value=o:null),options:y},null,8,["value"]),m(t(g),{value:t(c),"onUpdate:value":e[2]||(e[2]=o=>d(c)?c.value=o:null),options:b},null,8,["value"]),m(t(g),{value:t(r),"onUpdate:value":e[3]||(e[3]=o=>d(r)?r.value=o:null),options:t(O),placeholder:"Genres",clearable:"",multiple:""},null,8,["value","options"])]),(w=t(_).favorites)!=null&&w.length&&((S=t(x))!=null&&S.length)?(n(),a("div",D,[(n(!0),a(I,null,M(t(x),(o,Q,W,p)=>{const B=[];if(p&&p.key===o.id&&T(p,B))return p;const L=(n(),Z(s,{key:o.id,class:"snap-center shrink-0",show:o},null,8,["show"]));return L.memo=B,L},e,4),128))])):(n(),a("div",G,[(k=t(_).favorites)!=null&&k.length?(n(),a("p",J,[f(" Aucun résultat ne correspond à votre recherche "),K,f(" :( ")])):(n(),a("p",H,[f(" Vous n'avez pas encore de favoris "),q,f(" :( ")]))]))])}}};export{oe as default};
